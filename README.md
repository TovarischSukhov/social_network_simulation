# social_network_simulation

Код для симуляции модели взаимодействия работников с работодателями, при условии, что работники могут обмениваться информацией.

## Описание модели
### Допущения модели:
- Все работники обладают одинаковым опытом и скиллами
- Все работодатели обладают знанием об объективной стоимости работника
- Работодатели хотят купить как можно дешевле работника
- Работник сам предлагает уровень зп
- Решения где-с кем работать принимаются на каждом шаге заново
- Инфляции нет
- Количество работодателей и и работников не изменяется
- Все работодатели одинаковые
- Все контракты заключаются на 1 период, то есть в начале “торгов” все оказываются свободными от обязательств (кажется где-то была такая модель  рынка)
- На каждой итерации не работник не учитывает свой предыдущий уровень заработной платы, только считает новый 

### Участники:
- компания
- работник 1 типа (нормальная самооценка) (beta)
- работник второго типа (заниженная самооценка) (1-beta)
### Сеть:
- у каждого работника случайное количество  знакомых (из нормального распределения, с мат ожиданием [2, 10])
- все знакомства равноценные
- сеть статична, то есть во время эволюции новых связей не появляется
- каждый работник принадлежит к одному из типов и типы не меняются
- каждый работник знает про себя сколько он сейчас получает
- при инициализации каждому человку генерится по фисированному количеству знакомств, независимо. Поэтому получатся, что у человека КАК МИНИМУМ константа знакомых, но может быть больше
- изначально у всех равные з
- ответы на этапе рекогносцировки недетерминированы, то есть в разные итерации по одной и той же связи может как прийти ответ, так и нет
### “Торги”:
Каждый раунд состоит из 3х шагов: рекогносцировка, предложение, решение.  (need link) (что-то похожее было в микроэкономике в торгах за зп)
#### Рекогносцировка:
Каждый участник задает вопрос об уровне дохода всем (или случайному числу\проценту) своим знакомым в сети и с вероятностью alpha получает ответ. Если в предыдущей итерации человек не работал - ответа не дает.
Далее по формуле самооценки-самопредставления рассчитывает желаемый уровень зп. ( средняя зарплата знакомых * самооценку)

#### Предложение:
каждой фирме надо нанять N сотрудников (три случая, сумма всех N больше, меньше или равно числу работников в сети)
Фирма случайным образом делает по (2-3-4) предложения о работе на каждую вакансию. Работники отвечают ожидаемой зп.

#### Решение:
Компании делают оффер самому дешевому работнику на вакансию
работник получает оффер, если офферов несколько - выбирает случайно.
На этом модель останавливается, собирает статистику и переходит к новой итерации



## Структкра кода:
- запуск main
- компания
  - действи
  - полезность
- участник
  - действи
  - полезность
- мир
  - инициализация
  - шаги 
  - вывод стейта и статистики


##  TODO
Обертка:
- [] Вывод подробной статистики
- [] Автоо-построение графиков, ноутбук?
- [] Сохранение модели или данных (?)

Модель
- [] функция полезности у работника и работодателя, штрафы за то что не хватает сотрудников или что не рабртает человек
- [] возможность работодателям предлагать более высокие зарплаты


порядок действий
1. + убрать рандомность в инициализации воркеров
2. + зафикситьвать .9 как мультипликатор для никой самооценки
3. у работодателя появляется параметр - насколько вреояно, что он повысит оффер, зависит от процента набора в текущей итерации и прошлой. (а-ка кубик с 0-1-2 или еще какая-то модель с неколькими (тремя) исходами - не повысить, повысить на 10%, повысить на 20%, решила взять модель логита дискретного выбора)
4. работодатели могут звать не-занятых
   1. либо не более скольких-то попыток - отбросили
   2. либо работник может сказать что у него есть оффер от других и работодатель повысит оффер с какой-то вероятностью, вот тут хорощо бы эту вероятность увязать с недобором в предыдущую итерацию или в зависимотси от недобора в эту (от процента недобора. Итого модель:
      1. работодатель запрашивает зп у 3 рандомных работников, делает оффер самому дешевому
      2. работник принимает оффер, если он один, если несколько - отвечает что офферов несколько
         1. дальше у работодателя два варианта - искать нового, или пытаться перекупить этого, пока будем считать, что работодатель с какой-то вероятностью повышает оффер, а ищет нового только если работник откажется. 
      3. если работодателю пришел ответ, что офферов несколько - работодатель с какой-то вероятностью повышает оффер. на 10 или 20 % (сюда встранет ф-я полезности)
      4. повторяем с шага 2 пока не нвйдется единственный работодатель (TODO вот тут потенциально бесконечный цикл, надо как-то рвать)
      5. если у работодателя остались незакрытые вакансии (работник выьрал не его), он делает новые оофера (шаг один по только свободным работникам)
5. ввести функуию полезности, которая в равновесии будет давать зп, параметр пока один - самооценка (легко потом будет переделать в континуус), потом можно еще добавить рабоал не рабрлал в пред период (того еще нет)